#pragma once
#include "fftw3.h"
#include <vector>
using namespace std;

template<class T>
struct LinearTable{
	int size;
	int index;
	T * data;
};

class EchoSignal
{

public:
	EchoSignal(int dataCount = 1000);
	EchoSignal(const EchoSignal &echoSignal);
	void operator=(const EchoSignal &echoSignal);
	~EchoSignal();

private:

	LinearTable<double> m_X;
	LinearTable<double> m_Y;

	LinearTable<fftw_complex> m_din; ///傅里叶数据存储区
	LinearTable<fftw_complex> m_dout;

public:

	/**********************************************************************
	功能描述：清空图表回显的数据
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	void ClearSignalData(); 
	/**********************************************************************
	功能描述：得到傅里叶输入数据的长度
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	int GetDinLength();
	/**********************************************************************
	功能描述：得到X坐标的长度
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	int GetXLength();
	/**********************************************************************
	功能描述：得到Y坐标的长度
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	int GetYLength();
	/**********************************************************************
	功能描述：插入傅里叶处理之前的数据
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	void PushToDin(double inData);
	/**********************************************************************
	功能描述：更新傅里叶处理之前的数据指定位置的数据
	输入参数：位置索引 需要改变的值
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	void UpdateDin(int index, double inData);

	/**********************************************************************
	功能描述：更新傅里叶处理之后数据指定位置的数据
	输入参数：位置索引 需要改变的值
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	void UpdateDout(int index, double inData);

	/**********************************************************************
	功能描述：插入图表显示的x坐标数据
	输入参数：需要插入的值
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	void PushToX(double XData);
	/**********************************************************************
	功能描述：插入图表显示的y坐标数据
	输入参数：需要插入的值
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	void PushToY(double yData);
	/**********************************************************************
	功能描述：更新图表显示的指定位置的y坐标数据
	输入参数：位置索引 需要修改的数据
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	void UpdateY(int index, double inData);
	/**********************************************************************
	功能描述：得到图表需要显示的X数组
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	double * GetXArray();

	/**********************************************************************
	功能描述：得到图表需要显示的Y数组
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	double * GetYArray();
	/**********************************************************************
	功能描述：得到图表需要显示的X数组
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	fftw_complex * GetDinArray();

	/**********************************************************************
	功能描述：得到傅里叶
	输入参数：
	输出参数：
	返 回 值：
	其它说明：
	修改日期	 版本号		修改人		修改内容
	2019-08-06   1.0		马善涛		初始化
	----------------------------------------------------------------------
	***********************************************************************/
	fftw_complex * GetDoutArray();

};

